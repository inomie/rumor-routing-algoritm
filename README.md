# rumor-routing-algoritm

A network consisting of a number of wireless sensor nodes that are to be simulated with a relatively short range on the radio transmission. The nodes detect unique events, and you should then be able to make requests to any node in the network and this request should then be forwarded in the network to the node that detected the event. For the communication between the nodes, the rumor-routing algorithm is being used.

# Informal description of the rumor routing algorithm

Each node keeps track of its neighbors and a table of events that it knows in which direction to forward a request. It also knows how many steps it thinks are on the way there (a routing table). In this simulation, the neighbors will not change.

When a node detects an event, it adds it to its table with a distance of 0. For the sake of the simulation, the event will only be stored as a unique ID that can be used to access it, as well as a time (measured in number of steps the simulation in progress) and the coordinates of the sensor where it occurred. Whether an event is to be detected in a given time step is determined by the environment which in the simulation consists of an object that knows all the sensor nodes. The environment object also assigns its ID number to the event. The sensor node generates an agent message with a certain probability when an event is detected. The probability that the node generates an agent message is one of the parameters that can be examined.

An agent is a long-lived message that is sent around the network and forwards information. It contains a table of events that it has received information about at the nodes it has passed and how we can send messages to reach nodes that know these. The agent message information should be synchronized with all nodes it passes by saving the step (each table considers that a message should be sent as the next step) associated with the shortest distance (minimum number of steps) in both tables. In this way, the agent spreads information on how to find the information in the network to nodes further away. The agent performs a constant number of jumps in the network (this number should be relatively easy to change as it is one of the parameters you want to be able to investigate). When this number of jumps has been completed, the message should no longer be forwarded. If possible, in each step, the agent should be forwarded to a node where the agent has not been before. Note that the table stored in the agent message must be updated each time it has been forwarded so that it always contains the correct information regarding which node a message is to be forwarded to.

A request for a certain event can be started from any node and must from there be forwarded to the node that detected that particular event. If the node has the event ID in its table, it must forward it to the neighbour node on the way to this event according to what is stated in its routing table. If it does not know how to send the request, it forwards it to a random neighbor (if possible one where the message has not been previously). This continues until it reaches the maximum number of jumps the message can make without reaching a node that knows the path to the event (one of the parameters to be examined), or until the node reaches the requested event. When a request has reached the node where the event occurred, a response to the request must be sent back along the same path as the request took (this information must therefore be saved in the message that contains the request). When the node that started the request has received its response, it must print out the information about the event (location, the simulation step in which the event occurred and the ID number) followed by a line break.

If a node where a request started detects that it has not received a response to the message, it should try to resend the message once and then give up. As a time limit for how long the node waits for the response before it assumes that the request has not arrived, the following should be used: Eight times the algorithm parameter that keeps track of the number of jumps a request can take without reaching a node that knows where an event occurred. In each time step, a sensor node can only receive a message from one of its neighbors, OR send a message. Messages that cannot be forwarded due to the recipient being busy should be saved in a queue and it should try to send these in the next time step in the simulation.

# Program

A test program with a network of 50x50 sensor nodes placed in a square area will be implemented. This area should be loaded by file. The test must be run during 10,000 time steps and new events must be detected by a sensor node with a probability of 0.01% per time step and node. An Agent Message shall be generated with 50% probability for each detected event. In the test, agent messages must be forwarded a maximum of 50 times and requests must be forwarded a maximum of 45 time steps without encountering a node that knows the way to the event. A random request for any of the events that have occurred should be made from 4 different nodes every 400 time steps (these four nodes should be randomized at the beginning of the run).
